{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","todolist","demoTasks","id","drawProjectsFilter","obj","uniqueFilters","Set","taskProject","add","projectsFilter","document","querySelector","options","length","allOption","createElement","text","forEach","option","drawTodolist","task","className","setAttribute","taskTitle","innerHTML","projectPriorityWrapper","taskPriority","appendChild","taskText","buttonsWrapper","buttonEdit","onclick","editTask","buttonRemove","removeTask","buttonToggle","toggleTask","currentID","this","getAttribute","showForm","remove","localStorage","setItem","JSON","stringify","currentBtn","currentText","classList","contains","style","maxHeight","scrollHeight","hideForm","todolistSort","type","list","switching","b","currentValue","nextValue","shouldSwitch","querySelectorAll","parentNode","insertBefore","filterProjects","keyword","HTMLTasks","el","searchedProjects","undefined","getItem","parse","keys","loadTodolistFromStorage","addEventListener","fetch","then","response","json","data","checked","e","preventDefault","inputs","textarea","state","parentElement","formValidation","dataID","console","log","todolistFormHandler","reset"],"mappings":"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","file":"./js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import \"../sass/style.sass\";\r\n\r\nlet todolist = {}; // todolist object\r\nlet demoTasks = {}; // demo object\r\nlet id = 0; // unique ID for task\r\n\r\n// load todolist from localStorage\r\nfunction loadTodolistFromStorage() {\r\n  if (localStorage.getItem(\"todolist\") != undefined) {\r\n    todolist = JSON.parse(localStorage.getItem(\"todolist\"));\r\n    id = Object.keys(todolist).length; // update unique ID for task\r\n    // draw all tasks\r\n    for (let key in todolist) {\r\n      drawTodolist(todolist, key);\r\n    }\r\n    // draw projects filter\r\n    drawProjectsFilter(todolist);\r\n  }\r\n}\r\nloadTodolistFromStorage();\r\n\r\nfunction addDemoTask() {\r\n  fetch(\"http://deco-creative.com.ua/demoTasks.json\")\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      // clear current HTML todolist\r\n      document.querySelector(\".todo__list\").innerHTML = \"\";\r\n      // draw demo tasks\r\n      for (let key in data) {\r\n        drawTodolist(data, key);\r\n      }\r\n      // draw demo projects filter\r\n      drawProjectsFilter(data);\r\n      demoTasks = data; // write data\r\n    });\r\n}\r\n\r\ndocument.querySelector(\"#demoTasks\").addEventListener(\"click\", function() {\r\n  addDemoTask();\r\n});\r\n\r\n// FUNCTION DRAW PROJECTS FILTER\r\nfunction drawProjectsFilter(obj) {\r\n  let uniqueFilters = new Set();\r\n  for (let key in obj) {\r\n    let value = obj[key].taskProject;\r\n    uniqueFilters.add(value);\r\n  }\r\n  let projectsFilter = document.querySelector(\".todo__filter-projects\");\r\n  projectsFilter.options.length = 0; // reset select\r\n  let allOption = document.createElement(\"option\");\r\n  // add \"All\" selector\r\n  allOption.value = \"0\";\r\n  allOption.text = \"Все\";\r\n  projectsFilter.add(allOption);\r\n  // create new options\r\n  uniqueFilters.forEach(value => {\r\n    let option = document.createElement(\"option\");\r\n    option.value = value;\r\n    option.text = value;\r\n    projectsFilter.add(option);\r\n  });\r\n}\r\n\r\n// FUNCTION DRAW TODOLIST\r\nfunction drawTodolist(obj, id) {\r\n  // create todolist wrapper\r\n  let task = document.createElement(\"div\");\r\n  task.className = \"todo__item todo-item\";\r\n  task.setAttribute(\"data-id\", id);\r\n\r\n  // add todolist title\r\n  let taskTitle = document.createElement(\"h4\");\r\n  taskTitle.className = \"todo-item__title\";\r\n  taskTitle.innerHTML = obj[id][\"taskTitle\"];\r\n\r\n  // add project and priority wrapper\r\n  let projectPriorityWrapper = document.createElement(\"div\");\r\n  projectPriorityWrapper.className = \"row\";\r\n\r\n  // add todolist project\r\n  let taskProject = document.createElement(\"div\");\r\n  taskProject.className = \"todo-item__project\";\r\n  taskProject.innerHTML = `<span class=\"todo-item__label\">Проект:</span><span class=\"todo-item-element__content\">${\r\n    obj[id][\"taskProject\"]\r\n  }</span>`;\r\n\r\n  // add todolist priority\r\n  let taskPriority = document.createElement(\"div\");\r\n  taskPriority.className = \"todo-item__priority\";\r\n  taskPriority.innerHTML = `<span class=\"todo-item__label\">Приоритет:</span><span class=\"todo-item-element__content\">${\r\n    obj[id][\"taskPriority\"]\r\n  }</span>`;\r\n\r\n  // render project and priority\r\n  projectPriorityWrapper.appendChild(taskProject);\r\n  projectPriorityWrapper.appendChild(taskPriority);\r\n\r\n  // add todolist description\r\n  let taskText = document.createElement(\"div\");\r\n  taskText.className = \"todo-item__text slide-up\";\r\n  taskText.innerHTML = obj[id][\"taskText\"];\r\n\r\n  // add buttons wrapper\r\n  let buttonsWrapper = document.createElement(\"div\");\r\n  buttonsWrapper.className = \"todo-item__control-panel row\";\r\n\r\n  // add edit button\r\n  let buttonEdit = document.createElement(\"button\");\r\n  buttonEdit.className = \"todo-item__edit\";\r\n  buttonEdit.setAttribute(\"data-id\", id);\r\n  buttonEdit.innerHTML = \"Изменить\";\r\n  buttonEdit.onclick = editTask;\r\n\r\n  // add remove button\r\n  let buttonRemove = document.createElement(\"button\");\r\n  buttonRemove.className = \"todo-item__remove\";\r\n  buttonRemove.setAttribute(\"data-id\", id);\r\n  buttonRemove.innerHTML = \"Закрыть\";\r\n  buttonRemove.onclick = removeTask;\r\n\r\n  // add text toggle button\r\n  let buttonToggle = document.createElement(\"button\");\r\n  buttonToggle.className = \"todo-item__toggle\";\r\n  buttonToggle.setAttribute(\"data-id\", id);\r\n  buttonToggle.innerHTML = \"Развернуть\";\r\n  buttonToggle.onclick = toggleTask;\r\n\r\n  // render buttons\r\n  buttonsWrapper.appendChild(buttonEdit);\r\n  buttonsWrapper.appendChild(buttonRemove);\r\n  buttonsWrapper.appendChild(buttonToggle);\r\n\r\n  // render task\r\n  task.appendChild(taskTitle);\r\n  task.appendChild(projectPriorityWrapper);\r\n  task.appendChild(taskText);\r\n  task.appendChild(buttonsWrapper);\r\n\r\n  document.querySelector(\".todo__list\").appendChild(task); // add new task in HTML\r\n}\r\n\r\nfunction editTask() {\r\n  let currentID = this.getAttribute(\"data-id\");\r\n\r\n  document.querySelector(\".todo__form_item_title\").value =\r\n    todolist[currentID][\"taskTitle\"];\r\n  document.querySelector(\".todo__form_item_project\").value =\r\n    todolist[currentID][\"taskProject\"];\r\n  document.querySelector(\".todo__form_item_priority\").value =\r\n    todolist[currentID][\"taskPriority\"];\r\n  document.querySelector(\".todo__form_item_text\").value =\r\n    todolist[currentID][\"taskText\"];\r\n\r\n  document\r\n    .querySelector(\".todo__form_btn_submit\")\r\n    .setAttribute(\"data-id\", currentID);\r\n\r\n  showForm();\r\n}\r\n\r\nfunction removeTask() {\r\n  let currentID = this.getAttribute(\"data-id\");\r\n  let parent = document.querySelector(`.todo-item[data-id=\"${currentID}\"]`);\r\n  parent.remove(); // remove HTML\r\n  delete todolist[currentID];\r\n  localStorage.setItem(\"todolist\", JSON.stringify(todolist)); // save todolist to localStorage\r\n}\r\n\r\nfunction toggleTask() {\r\n  let currentID = this.getAttribute(\"data-id\");\r\n  let currentBtn = document.querySelector(\r\n    `.todo-item[data-id=\"${currentID}\"] .todo-item__toggle`\r\n  );\r\n  let currentText = document.querySelector(\r\n    `.todo-item[data-id=\"${currentID}\"] .todo-item__text`\r\n  );\r\n  // animate toggle\r\n  if (!currentText.classList.contains(\"slide-down\")) {\r\n    currentBtn.innerHTML = \"Cвернуть\";\r\n    currentText.style.maxHeight = currentText.scrollHeight + \"px\";\r\n    currentText.classList.add(\"slide-down\");\r\n  } else {\r\n    currentBtn.innerHTML = \"Развернуть\";\r\n    currentText.style.maxHeight = 0;\r\n    currentText.classList.remove(\"slide-down\");\r\n  }\r\n}\r\n\r\nfunction todolistFormHandler() {\r\n  let submitBtn = document.querySelector(\".todo__form_btn_submit\"); // get submit button\r\n  let dataID = submitBtn.getAttribute(\"data-id\"); // get dataID of submit button\r\n  // get data from inputs\r\n  let taskTitle = document.querySelector(\".todo__form_item_title\").value;\r\n  let taskProject = document.querySelector(\".todo__form_item_project\").value;\r\n  let taskPriority = document.querySelector(\".todo__form_item_priority\").value;\r\n  let taskText = document.querySelector(\".todo__form_item_text\").value;\r\n  // check submit button state\r\n  if (dataID == undefined) {\r\n    // if undefined than add new task\r\n\r\n    id++; // counter increment\r\n\r\n    let task = {}; // create new task object\r\n    task.id = id;\r\n    task.taskTitle = taskTitle;\r\n    task.taskProject = taskProject;\r\n    task.taskPriority = taskPriority;\r\n    task.taskText = taskText;\r\n\r\n    todolist[id] = task; // add new task to todolist object\r\n    drawTodolist(todolist, id);\r\n    drawProjectsFilter(todolist);\r\n  } else {\r\n    // if dataID is set edit data in global todolist object and edit existing HTML tasl by ID\r\n    todolist[dataID].taskTitle = taskTitle;\r\n    document.querySelector(\r\n      `.todo-item[data-id=\"${dataID}\"] .todo-item__title`\r\n    ).innerHTML = taskTitle;\r\n    todolist[dataID].taskProject = taskProject;\r\n    console.log(taskProject);\r\n    document.querySelector(\r\n      `.todo-item[data-id=\"${dataID}\"] .todo-item__project .todo-item-element__content`\r\n    ).innerHTML = taskProject;\r\n    todolist[dataID].taskPriority = taskPriority;\r\n    document.querySelector(\r\n      `.todo-item[data-id=\"${dataID}\"] .todo-item__priority .todo-item-element__content`\r\n    ).innerHTML = taskPriority;\r\n    todolist[dataID].taskText = taskText;\r\n    document.querySelector(\r\n      `.todo-item[data-id=\"${dataID}\"] .todo-item__text`\r\n    ).innerHTML = taskText;\r\n  }\r\n\r\n  localStorage.setItem(\"todolist\", JSON.stringify(todolist)); // save todolist to localStorage\r\n}\r\n\r\nfunction showForm() {\r\n  document.querySelector(\".todo__control-panel\").classList.add(\"hidden\"); // hide control panel\r\n  document.querySelector(\".todo__form\").classList.remove(\"hidden\"); // show edit form\r\n}\r\nfunction hideForm() {\r\n  document.querySelector(\".todo__form\").classList.add(\"hidden\"); // hide edit form\r\n  document.querySelector(\".todo__control-panel\").classList.remove(\"hidden\"); // show control panel\r\n}\r\n\r\n// show form when clicked \"New task\" and hide control panel\r\ndocument.querySelector(\".todo__add\").addEventListener(\"click\", function() {\r\n  showForm();\r\n});\r\n\r\n// PRIORITY SORT\r\nfunction todolistSort(type) {\r\n  let list, i, switching, b, currentValue, nextValue, shouldSwitch;\r\n  list = document.querySelector(\".todo__list\");\r\n  switching = true;\r\n  /*Make a loop that will continue until\r\n  no switching has been done:*/\r\n  while (switching) {\r\n    //start by saying: no switching is done:\r\n    switching = false;\r\n    b = list.querySelectorAll(\".todo-item\");\r\n    //Loop through all list-items:\r\n    for (i = 0; i < b.length - 1; i++) {\r\n      // check sort argument\r\n      if (type == \"priority\") {\r\n        currentValue = b[i].querySelector(\r\n          \".todo-item__priority .todo-item-element__content\"\r\n        ).innerHTML;\r\n        nextValue = b[i + 1].querySelector(\r\n          \".todo-item__priority .todo-item-element__content\"\r\n        ).innerHTML;\r\n      } else {\r\n        currentValue = b[i].getAttribute(\"data-id\");\r\n        nextValue = b[i + 1].getAttribute(\"data-id\");\r\n      }\r\n\r\n      //start by saying there should be no switching:\r\n      shouldSwitch = false;\r\n      /*check if the next item should\r\n      switch place with the current item:*/\r\n      if (currentValue > nextValue) {\r\n        /*if next item is alphabetically\r\n        lower than current item, mark as a switch\r\n        and break the loop:*/\r\n        shouldSwitch = true;\r\n        break;\r\n      }\r\n    }\r\n    if (shouldSwitch) {\r\n      /*If a switch has been marked, make the switch\r\n      and mark the switch as done:*/\r\n      b[i].parentNode.insertBefore(b[i + 1], b[i]);\r\n      switching = true;\r\n    }\r\n  }\r\n}\r\ndocument\r\n  .querySelector(\"#todo__sort-priority\")\r\n  .addEventListener(\"change\", function() {\r\n    if (this.checked) {\r\n      todolistSort(\"priority\");\r\n    } else {\r\n      todolistSort(\"order\");\r\n    }\r\n  });\r\n\r\n// PROJECTS FILTER\r\nfunction filterProjects(obj, keyword) {\r\n  let value = keyword;\r\n  let HTMLTasks = document.querySelectorAll(\".todo-item\"); // get all tasks in HTML code\r\n  // check selected value\r\n  if (value == 0) {\r\n    // if \"All selection\" - show all task\r\n    [].forEach.call(HTMLTasks, function(el) {\r\n      el.classList.remove(\"hidden\"); // show all tasks in HTML code\r\n    });\r\n  } else {\r\n    // search filter value in todolist object\r\n    for (let key in obj) {\r\n      let taskProject = obj[key][\"taskProject\"];\r\n      // check filter value in tasks\r\n      if (taskProject == value) {\r\n        let searchedProjects = document.querySelectorAll(\r\n          `.todo-item[data-id=\"${key}\"]`\r\n        );\r\n        [].forEach.call(searchedProjects, function(el) {\r\n          el.classList.remove(\"hidden\"); // show filtered tasks\r\n        });\r\n      } else {\r\n        let searchedProjects = document.querySelectorAll(\r\n          `.todo-item[data-id=\"${key}\"]`\r\n        );\r\n        [].forEach.call(searchedProjects, function(el) {\r\n          el.classList.add(\"hidden\"); // hide tasks that doesn't match\r\n        });\r\n      }\r\n    }\r\n  }\r\n}\r\ndocument\r\n  .querySelector(\".todo__filter-projects\")\r\n  .addEventListener(\"change\", function() {\r\n    let value = this.value;\r\n    if (Object.keys(demoTasks).length === 0) {\r\n      filterProjects(todolist, value);\r\n    } else {\r\n      filterProjects(demoTasks, value);\r\n    }\r\n  });\r\n\r\n// form validation function\r\nfunction formValidation() {\r\n  let inputs = document.querySelectorAll(\".todo__form input[type=text]\");\r\n  let textarea = document.querySelector(\"textarea\");\r\n  let state;\r\n  // check inputs\r\n  [].forEach.call(inputs, function(el) {\r\n    let value = el.value;\r\n    if (value == \"\") {\r\n      el.parentElement.classList.add(\"todo-form-input-wrapper_invalid\");\r\n      state = false;\r\n    } else {\r\n      el.parentElement.classList.remove(\"todo-form-input-wrapper_invalid\");\r\n      state = true;\r\n    }\r\n  });\r\n  // check textarea\r\n  if (textarea.value != \"\" && state == true) {\r\n    textarea.parentElement.classList.remove(\"todo-form-input-wrapper_invalid\");\r\n    state = true;\r\n  } else if (textarea.value != \"\" && state == false) {\r\n    textarea.parentElement.classList.remove(\"todo-form-input-wrapper_invalid\");\r\n    state = false;\r\n  } else {\r\n    textarea.parentElement.classList.add(\"todo-form-input-wrapper_invalid\");\r\n    state = false;\r\n  }\r\n  return state;\r\n}\r\n\r\n// save button click\r\ndocument\r\n  .querySelector(\".todo__form_btn_submit\")\r\n  .addEventListener(\"click\", function(e) {\r\n    e.preventDefault();\r\n    if (formValidation() == true) {\r\n      todolistFormHandler();\r\n      hideForm();\r\n      // clear form\r\n      document.querySelector(\".todo__form\").reset(); // clear form inputs\r\n    }\r\n  });\r\n\r\n// hide form when clicked \"Cancel\" button and show control panel\r\ndocument\r\n  .querySelector(\".todo__form_btn_cancel\")\r\n  .addEventListener(\"click\", function(e) {\r\n    e.preventDefault();\r\n    hideForm();\r\n  });\r\n"],"sourceRoot":""}