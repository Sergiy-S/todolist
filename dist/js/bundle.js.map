{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","todolist","id","drawProjectsFilter","obj","uniqueFilters","Set","taskProject","add","projectsFilter","document","querySelector","forEach","option","createElement","text","drawTodolist","task","className","setAttribute","taskTitle","innerHTML","projectPriorityWrapper","taskPriority","appendChild","taskText","buttonsWrapper","buttonEdit","onclick","editTask","buttonRemove","removeTask","buttonToggle","toggleTask","currentID","this","getAttribute","showForm","remove","localStorage","setItem","JSON","stringify","currentBtn","currentText","classList","contains","style","maxHeight","scrollHeight","hideForm","todolistSort","type","list","switching","b","currentValue","nextValue","shouldSwitch","querySelectorAll","length","parentNode","insertBefore","undefined","getItem","parse","keys","loadTodolistFromStorage","addEventListener","fetch","then","response","json","data","checked","HTMLTasks","el","searchedProjects","e","preventDefault","inputs","textarea","state","parentElement","formValidation","dataID","console","log","todolistFormHandler","reset"],"mappings":"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","file":"./js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import \"../sass/style.sass\";\r\n\r\nlet todolist = {}; // todolist object\r\nlet id = 0; // unique ID for task\r\n\r\n// load todolist from localStorage\r\nfunction loadTodolistFromStorage() {\r\n  if (localStorage.getItem(\"todolist\") != undefined) {\r\n    todolist = JSON.parse(localStorage.getItem(\"todolist\"));\r\n    id = Object.keys(todolist).length; // update unique ID for task\r\n    // draw all tasks\r\n    for (let key in todolist) {\r\n      drawTodolist(todolist, key);\r\n    }\r\n    // draw projects filter\r\n    drawProjectsFilter(todolist);\r\n  }\r\n}\r\nloadTodolistFromStorage();\r\n\r\nfunction addDemoTask() {\r\n  fetch(\"http://deco-creative.com.ua/demoTasks.json\")\r\n    .then(response => response.json())\r\n    // .then(json => console.log(json))\r\n    .then(data => {\r\n      // draw demo tasks\r\n      for (let key in data) {\r\n        drawTodolist(data, key);\r\n      }\r\n      // draw demo projects filter\r\n      drawProjectsFilter(data);\r\n    });\r\n}\r\n\r\ndocument.querySelector(\"#demoTasks\").addEventListener(\"click\", function() {\r\n  addDemoTask();\r\n});\r\n\r\n// FUNCTION DRAW PROJECTS FILTER\r\nfunction drawProjectsFilter(obj) {\r\n  let uniqueFilters = new Set();\r\n  for (let key in obj) {\r\n    let value = obj[key].taskProject;\r\n    uniqueFilters.add(value);\r\n  }\r\n  let projectsFilter = document.querySelector(\".todo__filter-projects\");\r\n  uniqueFilters.forEach(value => {\r\n    let option = document.createElement(\"option\");\r\n    option.value = value;\r\n    option.text = value;\r\n    projectsFilter.add(option);\r\n  });\r\n}\r\n\r\n// FUNCTION DRAW TODOLIST\r\nfunction drawTodolist(obj, id) {\r\n  // create todolist wrapper\r\n  let task = document.createElement(\"div\");\r\n  task.className = \"todo__item todo-item\";\r\n  task.setAttribute(\"data-id\", id);\r\n\r\n  // add todolist title\r\n  let taskTitle = document.createElement(\"h4\");\r\n  taskTitle.className = \"todo-item__title\";\r\n  taskTitle.innerHTML = obj[id][\"taskTitle\"];\r\n\r\n  // add project and priority wrapper\r\n  let projectPriorityWrapper = document.createElement(\"div\");\r\n  projectPriorityWrapper.className = \"row\";\r\n\r\n  // add todolist project\r\n  let taskProject = document.createElement(\"div\");\r\n  taskProject.className = \"todo-item__project\";\r\n  taskProject.innerHTML = `<span class=\"todo-item__label\">Проект:</span><span class=\"todo-item-element__content\">${\r\n    obj[id][\"taskProject\"]\r\n  }</span>`;\r\n\r\n  // add todolist priority\r\n  let taskPriority = document.createElement(\"div\");\r\n  taskPriority.className = \"todo-item__priority\";\r\n  taskPriority.innerHTML = `<span class=\"todo-item__label\">Приоритет:</span><span class=\"todo-item-element__content\">${\r\n    obj[id][\"taskPriority\"]\r\n  }</span>`;\r\n\r\n  // render project and priority\r\n  projectPriorityWrapper.appendChild(taskProject);\r\n  projectPriorityWrapper.appendChild(taskPriority);\r\n\r\n  // add todolist description\r\n  let taskText = document.createElement(\"div\");\r\n  taskText.className = \"todo-item__text slide-up\";\r\n  taskText.innerHTML = obj[id][\"taskText\"];\r\n\r\n  // add buttons wrapper\r\n  let buttonsWrapper = document.createElement(\"div\");\r\n  buttonsWrapper.className = \"todo-item__control-panel row\";\r\n\r\n  // add edit button\r\n  let buttonEdit = document.createElement(\"button\");\r\n  buttonEdit.className = \"todo-item__edit\";\r\n  buttonEdit.setAttribute(\"data-id\", id);\r\n  buttonEdit.innerHTML = \"Изменить\";\r\n  buttonEdit.onclick = editTask;\r\n\r\n  // add remove button\r\n  let buttonRemove = document.createElement(\"button\");\r\n  buttonRemove.className = \"todo-item__remove\";\r\n  buttonRemove.setAttribute(\"data-id\", id);\r\n  buttonRemove.innerHTML = \"Закрыть\";\r\n  buttonRemove.onclick = removeTask;\r\n\r\n  // add text toggle button\r\n  let buttonToggle = document.createElement(\"button\");\r\n  buttonToggle.className = \"todo-item__toggle\";\r\n  buttonToggle.setAttribute(\"data-id\", id);\r\n  buttonToggle.innerHTML = \"Развернуть\";\r\n  buttonToggle.onclick = toggleTask;\r\n\r\n  // render buttons\r\n  buttonsWrapper.appendChild(buttonEdit);\r\n  buttonsWrapper.appendChild(buttonRemove);\r\n  buttonsWrapper.appendChild(buttonToggle);\r\n\r\n  // render task\r\n  task.appendChild(taskTitle);\r\n  task.appendChild(projectPriorityWrapper);\r\n  task.appendChild(taskText);\r\n  task.appendChild(buttonsWrapper);\r\n\r\n  document.querySelector(\".todo__list\").appendChild(task); // add new task in HTML\r\n}\r\n\r\nfunction editTask() {\r\n  let currentID = this.getAttribute(\"data-id\");\r\n\r\n  document.querySelector(\".todo__form_item_title\").value =\r\n    todolist[currentID][\"taskTitle\"];\r\n  document.querySelector(\".todo__form_item_project\").value =\r\n    todolist[currentID][\"taskProject\"];\r\n  document.querySelector(\".todo__form_item_priority\").value =\r\n    todolist[currentID][\"taskPriority\"];\r\n  document.querySelector(\".todo__form_item_text\").value =\r\n    todolist[currentID][\"taskText\"];\r\n\r\n  document\r\n    .querySelector(\".todo__form_btn_submit\")\r\n    .setAttribute(\"data-id\", currentID);\r\n\r\n  showForm();\r\n}\r\n\r\nfunction removeTask() {\r\n  let currentID = this.getAttribute(\"data-id\");\r\n  let parent = document.querySelector(`.todo-item[data-id=\"${currentID}\"]`);\r\n  parent.remove(); // remove HTML\r\n  delete todolist[currentID];\r\n  localStorage.setItem(\"todolist\", JSON.stringify(todolist)); // save todolist to localStorage\r\n}\r\n\r\nfunction toggleTask() {\r\n  let currentID = this.getAttribute(\"data-id\");\r\n  let currentBtn = document.querySelector(\r\n    `.todo-item[data-id=\"${currentID}\"] .todo-item__toggle`\r\n  );\r\n  let currentText = document.querySelector(\r\n    `.todo-item[data-id=\"${currentID}\"] .todo-item__text`\r\n  );\r\n  // animate toggle\r\n  if (!currentText.classList.contains(\"slide-down\")) {\r\n    currentBtn.innerHTML = \"Cвернуть\";\r\n    currentText.style.maxHeight = currentText.scrollHeight + \"px\";\r\n    currentText.classList.add(\"slide-down\");\r\n  } else {\r\n    currentBtn.innerHTML = \"Развернуть\";\r\n    currentText.style.maxHeight = 0;\r\n    currentText.classList.remove(\"slide-down\");\r\n  }\r\n}\r\n\r\nfunction todolistFormHandler() {\r\n  let submitBtn = document.querySelector(\".todo__form_btn_submit\"); // get submit button\r\n  let dataID = submitBtn.getAttribute(\"data-id\"); // get dataID of submit button\r\n  // get data from inputs\r\n  let taskTitle = document.querySelector(\".todo__form_item_title\").value;\r\n  let taskProject = document.querySelector(\".todo__form_item_project\").value;\r\n  let taskPriority = document.querySelector(\".todo__form_item_priority\").value;\r\n  let taskText = document.querySelector(\".todo__form_item_text\").value;\r\n  // check submit button state\r\n  if (dataID == undefined) {\r\n    // if undefined than add new task\r\n\r\n    id++; // counter increment\r\n\r\n    let task = {}; // create new task object\r\n    task.id = id;\r\n    task.taskTitle = taskTitle;\r\n    task.taskProject = taskProject;\r\n    task.taskPriority = taskPriority;\r\n    task.taskText = taskText;\r\n\r\n    todolist[id] = task; // add new task to todolist object\r\n    drawTodolist(todolist, id);\r\n  } else {\r\n    // if dataID is set edit data in global todolist object and edit existing HTML tasl by ID\r\n    todolist[dataID].taskTitle = taskTitle;\r\n    document.querySelector(\r\n      `.todo-item[data-id=\"${dataID}\"] .todo-item__title`\r\n    ).innerHTML = taskTitle;\r\n    todolist[dataID].taskProject = taskProject;\r\n    console.log(taskProject);\r\n    document.querySelector(\r\n      `.todo-item[data-id=\"${dataID}\"] .todo-item__project .todo-item-element__content`\r\n    ).innerHTML = taskProject;\r\n    todolist[dataID].taskPriority = taskPriority;\r\n    document.querySelector(\r\n      `.todo-item[data-id=\"${dataID}\"] .todo-item__priority .todo-item-element__content`\r\n    ).innerHTML = taskPriority;\r\n    todolist[dataID].taskText = taskText;\r\n    document.querySelector(\r\n      `.todo-item[data-id=\"${dataID}\"] .todo-item__text`\r\n    ).innerHTML = taskText;\r\n  }\r\n\r\n  localStorage.setItem(\"todolist\", JSON.stringify(todolist)); // save todolist to localStorage\r\n}\r\n\r\nfunction showForm() {\r\n  document.querySelector(\".todo__control-panel\").classList.add(\"hidden\"); // hide control panel\r\n  document.querySelector(\".todo__form\").classList.remove(\"hidden\"); // show edit form\r\n}\r\nfunction hideForm() {\r\n  document.querySelector(\".todo__form\").classList.add(\"hidden\"); // hide edit form\r\n  document.querySelector(\".todo__control-panel\").classList.remove(\"hidden\"); // show control panel\r\n}\r\n\r\n// show form when clicked \"New task\" and hide control panel\r\ndocument.querySelector(\".todo__add\").addEventListener(\"click\", function() {\r\n  showForm();\r\n});\r\n\r\n// PRIORITY SORT\r\nfunction todolistSort(type) {\r\n  let list, i, switching, b, currentValue, nextValue, shouldSwitch;\r\n  list = document.querySelector(\".todo__list\");\r\n  switching = true;\r\n  /*Make a loop that will continue until\r\n  no switching has been done:*/\r\n  while (switching) {\r\n    //start by saying: no switching is done:\r\n    switching = false;\r\n    b = list.querySelectorAll(\".todo-item\");\r\n    //Loop through all list-items:\r\n    for (i = 0; i < b.length - 1; i++) {\r\n      // check sort argument\r\n      if (type == \"priority\") {\r\n        currentValue = b[i].querySelector(\r\n          \".todo-item__priority .todo-item-element__content\"\r\n        ).innerHTML;\r\n        nextValue = b[i + 1].querySelector(\r\n          \".todo-item__priority .todo-item-element__content\"\r\n        ).innerHTML;\r\n      } else {\r\n        currentValue = b[i].getAttribute(\"data-id\");\r\n        nextValue = b[i + 1].getAttribute(\"data-id\");\r\n      }\r\n\r\n      //start by saying there should be no switching:\r\n      shouldSwitch = false;\r\n      /*check if the next item should\r\n      switch place with the current item:*/\r\n      if (currentValue > nextValue) {\r\n        /*if next item is alphabetically\r\n        lower than current item, mark as a switch\r\n        and break the loop:*/\r\n        shouldSwitch = true;\r\n        break;\r\n      }\r\n    }\r\n    if (shouldSwitch) {\r\n      /*If a switch has been marked, make the switch\r\n      and mark the switch as done:*/\r\n      b[i].parentNode.insertBefore(b[i + 1], b[i]);\r\n      switching = true;\r\n    }\r\n  }\r\n}\r\ndocument\r\n  .querySelector(\"#todo__sort-priority\")\r\n  .addEventListener(\"change\", function() {\r\n    if (this.checked) {\r\n      todolistSort(\"priority\");\r\n    } else {\r\n      todolistSort(\"order\");\r\n    }\r\n  });\r\n\r\n// PROJECTS FILTER\r\ndocument\r\n  .querySelector(\".todo__filter-projects\")\r\n  .addEventListener(\"change\", function() {\r\n    let value = this.value;\r\n    let HTMLTasks = document.querySelectorAll(\".todo-item\"); // get all tasks in HTML code\r\n    // check selected value\r\n    if (value == 0) {\r\n      // if \"All selection\" - show all task\r\n      [].forEach.call(HTMLTasks, function(el) {\r\n        el.classList.remove(\"hidden\"); // show all tasks in HTML code\r\n      });\r\n    } else {\r\n      // search filter value in todolist object\r\n      for (let key in todolist) {\r\n        let taskProject = todolist[key][\"taskProject\"];\r\n        // check filter value in tasks\r\n        if (taskProject == value) {\r\n          let searchedProjects = document.querySelectorAll(\r\n            `.todo-item[data-id=\"${key}\"]`\r\n          );\r\n          [].forEach.call(searchedProjects, function(el) {\r\n            el.classList.remove(\"hidden\"); // show filtered tasks\r\n          });\r\n        } else {\r\n          let searchedProjects = document.querySelectorAll(\r\n            `.todo-item[data-id=\"${key}\"]`\r\n          );\r\n          [].forEach.call(searchedProjects, function(el) {\r\n            el.classList.add(\"hidden\"); // hide tasks that doesn't match\r\n          });\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n// form validation function\r\nfunction formValidation() {\r\n  let inputs = document.querySelectorAll(\".todo__form input[type=text]\");\r\n  let textarea = document.querySelector(\"textarea\");\r\n  let state;\r\n  // check inputs\r\n  [].forEach.call(inputs, function(el) {\r\n    let value = el.value;\r\n    if (value == \"\") {\r\n      el.parentElement.classList.add(\"todo-form-input-wrapper_invalid\");\r\n      state = false;\r\n    } else {\r\n      el.parentElement.classList.remove(\"todo-form-input-wrapper_invalid\");\r\n      state = true;\r\n    }\r\n  });\r\n  // check textarea\r\n  if (textarea.value != \"\" && state == true) {\r\n    textarea.parentElement.classList.remove(\"todo-form-input-wrapper_invalid\");\r\n    state = true;\r\n  } else if (textarea.value != \"\" && state == false) {\r\n    textarea.parentElement.classList.remove(\"todo-form-input-wrapper_invalid\");\r\n    state = false;\r\n  } else {\r\n    textarea.parentElement.classList.add(\"todo-form-input-wrapper_invalid\");\r\n    state = false;\r\n  }\r\n  return state;\r\n}\r\n\r\n// save button click\r\ndocument\r\n  .querySelector(\".todo__form_btn_submit\")\r\n  .addEventListener(\"click\", function(e) {\r\n    e.preventDefault();\r\n    if (formValidation() == true) {\r\n      todolistFormHandler();\r\n      hideForm();\r\n      // clear form\r\n      document.querySelector(\".todo__form\").reset(); // clear form inputs\r\n    }\r\n  });\r\n\r\n// hide form when clicked \"Cancel\" button and show control panel\r\ndocument\r\n  .querySelector(\".todo__form_btn_cancel\")\r\n  .addEventListener(\"click\", function(e) {\r\n    e.preventDefault();\r\n    hideForm();\r\n  });\r\n"],"sourceRoot":""}